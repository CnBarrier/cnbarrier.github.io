<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>抽签页面</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
            overflow: hidden; /* 隐藏溢出内容 */
        }

        .overlay {
            position: fixed; /* 固定位置，覆盖整个页面 */
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgb(0, 0, 0); /* 黑色遮罩 */
            z-index: 999; /* 确保在最上层 */
            opacity: 1; /* 初始不透明度为1 */
            transition: opacity 1s ease; /* 添加过渡效果 */
        }

        .splashscreen {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 5em;
            color: white;
            z-index: 1000; /* 确保在遮罩层之上 */
            opacity: 0; /* 初始不透明度为0 */
            transition: opacity 1s ease; /* 添加过渡效果 */
        }

        .visible {
            opacity: 1; /* 显示时不透明度为1 */
        }

        .footer {
            position: fixed; /* 固定位置 */
            bottom: 10px; /* 距离底部10px */
            left: 10px; /* 距离左边10px */
            color: white; /* 字体颜色 */
            font-size: 1em; /* 字体大小 */
            z-index: 998; /* 确保在遮罩层之下 */
        }
    </style>
</head>
<body>
    <!-- 黑色遮罩层 -->
    <div class="overlay"></div>

    <!-- Splash Screen -->
    <div id="splashscreen" class="splashscreen">
        <!-- 随机文本将插入到这里 -->
    </div>

    <!-- 背景图层 -->
    <div id="background"></div>

    <!-- 高斯模糊窗口 -->
    <div id="modal">
        <!-- 抽签结果标题 -->
        <div id="result-title-container">
            <span id="result-title">牢九班的抽签系统 | V1.0</span>
        </div>
    
        <!-- 抽签结果内容 -->
        <div id="container">
            <div id="spacer" class="spacer"></div> <!-- 上方空行 -->
            <div id="result">↓ 按下按钮后输出倒霉蛋学号 ↓</div>
        </div>
    
        <!-- 按钮容器，控制按钮位于底部 -->
        <div id="button-container">
            <button onclick="drawLot()">开始抽签</button>
        </div>
    </div>    

    <!-- 在 splashscreen 之后添加 footer -->
    <div class="footer">
        By CnBarrier
    </div>

    <script src="script.js"></script>
    <script>
        // 定义一个包含多个文本的数组
        const splashMessages = [
            "“上课！不要讲话！” ——赵老师",
            "“好了啊！（捶桌）” ——赵老师",
            "“别讲了！” ——戴老师",
            "“找抽啊？” ——戴老师",
            "做这个抽签系统，我2:30睡的，5：30就……",
        ];

        // 在页面加载完成后显示 splash screen
        window.onload = function() {
            const splashscreen = document.getElementById("splashscreen");
            const overlay = document.querySelector(".overlay");

            // 随机选择一个文本
            const randomIndex = Math.floor(Math.random() * splashMessages.length);
            splashscreen.textContent = splashMessages[randomIndex]; // 设置随机文本

            splashscreen.classList.add("visible"); // 添加可见类，触发淡入效果

            setTimeout(() => {
                splashscreen.classList.remove("visible"); // 移除可见类，触发淡出效果
                overlay.style.opacity = "0"; // 开始淡出遮罩层
                // 等待动画结束后再将元素从 DOM 中移除
                setTimeout(() => {
                    splashscreen.style.display = "none"; // 隐藏 splash screen
                    overlay.style.display = "none"; // 隐藏遮罩层
                }, 1000); // 等待1000毫秒以匹配过渡效果
            }, 3000); // 3秒后开始淡出
        };
    </script>
</body>
</html>
